{"version":3,"file":"static/js/898.369e9db6.chunk.js","mappings":"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","sources":["components/GradesForm.js","pages/Grades/MyGrades.js"],"sourcesContent":["import { set } from \"date-fns\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Card, Form, Button, ButtonGroup, Row, Col } from \"react-bootstrap\";\r\n\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\n\r\nconst GradesForm = ({\r\n  handleChildData,\r\n  completedassignments = [{ name: \"\", weight: \"\", grade: \"\" }],\r\n}) => {\r\n  const [assignments, setAssignments] = useState(completedassignments);\r\n  const [validated, setValidated] = useState(false);\r\n  const [Tests, setTests] = useState([{ name: \"\", weight: \"\", grade: \"\" }]);\r\n  const [allTasks, setAllTasks] = useState([]);\r\n  const [GradePrediction, setGradePrediction] = useState(null);\r\n\r\n  // Sync state with props when selected course changes\r\n  useEffect(() => {\r\n    setAssignments(completedassignments);\r\n    setTests([{ name: \"\", weight: \"\", grade: \"\" }]); // Reset hypotheticals\r\n    setGradePrediction(null); // Reset prediction\r\n    \r\n    if (completedassignments.length === 0) {\r\n        toast.info(\"No completed assignments found. Add hypothetical ones to predict.\");\r\n    }\r\n  }, [completedassignments]);\r\n\r\n  const handleNameChange = (event, index) => {\r\n    const newAssignments = [...assignments];\r\n    newAssignments[index].name = event.target.value;\r\n    setAssignments(newAssignments);\r\n  };\r\n\r\n  const handleWeightChange = (event, index) => {\r\n    const newAssignments = [...assignments];\r\n    newAssignments[index].weight = event.target.value;\r\n    setAssignments(newAssignments);\r\n  };\r\n\r\n  const handleGradeChange = (event, index) => {\r\n    const newAssignments = [...assignments];\r\n    newAssignments[index].grade = event.target.value;\r\n    setAssignments(newAssignments);\r\n  };\r\n\r\n  const handleTestNameChange = (event, index) => {\r\n    const newTests = [...Tests];\r\n    newTests[index].name = event.target.value;\r\n    setTests(newTests);\r\n  };\r\n\r\n  const handleTestWeightChange = (event, index) => {\r\n    const newTests = [...Tests];\r\n    newTests[index].weight = event.target.value;\r\n    setTests(newTests);\r\n  };\r\n\r\n  const handleTestGradeChange = (event, index) => {\r\n    const newTests = [...Tests];\r\n    newTests[index].grade = event.target.value;\r\n    setTests(newTests);\r\n  };\r\n  const handleAddRow = () => {\r\n    const newTests = [...Tests, { name: \"\", weight: \"\", grade: \"\" }];\r\n    setTests(newTests);\r\n  };\r\n\r\n  const handleDeleteRow = () => {\r\n    const newTests = [...Tests];\r\n    newTests.pop();\r\n    setTests(newTests);\r\n  };\r\n\r\n  const checkWeights = () => {\r\n    let totalWeight = 0;\r\n    assignments.forEach((assignment) => {\r\n      if (assignment.weight !== \"\") {\r\n        totalWeight += parseFloat(assignment.weight);\r\n      }\r\n    });\r\n    Tests.forEach((test) => {\r\n      if (test.weight !== \"\") {\r\n        totalWeight += parseFloat(test.weight);\r\n      }\r\n    });\r\n    if (totalWeight !== 1) {\r\n      //console.log(\"Weights do not add up to 1.0\");\r\n      toast.error(\"Weights do not add up to 1.0 Current Total:\" + totalWeight);\r\n      setValidated(false);\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const calculateFinalGrade = (data) => {\r\n    // Calculate the final grade based on weights and grades\r\n    let totalWeight = 0;\r\n    let weightedSum = 0;\r\n\r\n    data.forEach((assignment) => {\r\n      if (assignment.weight && assignment.grade) {\r\n        totalWeight += parseFloat(assignment.weight);\r\n        weightedSum += parseFloat(assignment.grade) * parseFloat(assignment.weight);\r\n      }\r\n    });\r\n\r\n    // If totalWeight is effectively 1 (checked by checkWeights), this is the result.\r\n    // If not, it's a weighted average. \r\n    // The previous code verified sum to be 1.0, so weightedSum is the straightforward answer.\r\n    \r\n    //console.log(\"Final Grade:\", weightedSum);\r\n    setGradePrediction(weightedSum);\r\n    //console.log(\"Final Grade:\", GradePrediction);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    const form = event.currentTarget;\r\n\r\n    if (form.checkValidity() === false) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      toast.error(\"Please fill out all fields\");\r\n      return;\r\n    }\r\n    setValidated(true);\r\n    if (!checkWeights()) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      return;\r\n    }\r\n    event.preventDefault();\r\n    const combinedData = [...assignments, ...Tests];\r\n    setAllTasks(combinedData);\r\n    //console.log(\"Combined data:\", allTasks);\r\n\r\n    //handleChildData(allTasks);\r\n    calculateFinalGrade(combinedData);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ToastContainer />\r\n      {GradePrediction !== null ? (\r\n        <Card className=\"bg-success bg-opacity-10 border-success border-opacity-50 text-white text-center p-4\">\r\n          <Card.Body>\r\n             <h3 className=\"display-6 fw-bold text-success mb-3\">Grade Prediction</h3>\r\n             <div className=\"display-1 fw-bold mb-0\">{Number(GradePrediction).toFixed(2)}%</div>\r\n             <p className=\"text-muted mt-2\">Based on current weights and scores</p>\r\n             <Button variant=\"outline-success mt-3\" onClick={() => setGradePrediction(null)}>Recalculate</Button>\r\n          </Card.Body>\r\n        </Card>\r\n      ) : (\r\n        <>\r\n          <Form noValidate validated={validated} onSubmit={handleSubmit}>\r\n            <Row>\r\n              <Col md={12} lg={6}>\r\n                 <h5 className=\"text-secondary mb-3 border-bottom border-secondary border-opacity-25 pb-2\">Completed Assignments</h5>\r\n                {assignments.map((assignment, index) => (\r\n                  <Card\r\n                    key={index}\r\n                    className=\"bg-dark-glass border border-secondary border-opacity-25 mb-3 text-white\"\r\n                  >\r\n                    <Card.Body>\r\n                    <Form.Group controlId={`assign-${index}`} className=\"mb-3\">\r\n                      <Form.Label className=\"text-muted small text-uppercase\">Assignment Name</Form.Label>\r\n                      <Form.Control\r\n                        required\r\n                        type=\"text\"\r\n                        value={assignment.name}\r\n                        onChange={(event) => handleNameChange(event, index)}\r\n                        className=\"bg-transparent text-white border-secondary border-opacity-50\"\r\n                        readOnly={true} \r\n                      />\r\n                    </Form.Group>\r\n\r\n                    <Row>\r\n                        <Col>\r\n                            <Form.Group controlId={`weight-${index}`}>\r\n                                <Form.Label className=\"text-muted small text-uppercase\">Weight (0-1.0)</Form.Label>\r\n                                <Form.Control\r\n                                    required\r\n                                    type=\"number\" step=\"0.01\"\r\n                                    value={assignment.weight}\r\n                                    onChange={(event) => handleWeightChange(event, index)}\r\n                                    className=\"bg-transparent text-white border-secondary border-opacity-50\"\r\n                                />\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col>\r\n                            <Form.Group controlId={`grade-${index}`}>\r\n                                <Form.Label className=\"text-muted small text-uppercase\">Grade (%)</Form.Label>\r\n                                <Form.Control\r\n                                    required\r\n                                    type=\"number\"\r\n                                    value={assignment.grade}\r\n                                    onChange={(event) => handleGradeChange(event, index)}\r\n                                    className=\"bg-transparent text-white border-secondary border-opacity-50\"\r\n                                />\r\n                            </Form.Group>\r\n                        </Col>\r\n                    </Row>\r\n                    </Card.Body>\r\n                  </Card>\r\n                ))}\r\n              </Col>\r\n              \r\n              <Col md={12} lg={6}>\r\n                 <h5 className=\"text-secondary mb-3 border-bottom border-secondary border-opacity-25 pb-2\">Hypothetical Tests/Assignments</h5>\r\n                {Tests.map((test, index) => (\r\n                  <Card\r\n                    key={`test-${index}`}\r\n                    className=\"bg-dark-glass border border-dashed border-secondary border-opacity-50 mb-3 text-white\"\r\n                  >\r\n                    <Card.Body>\r\n                        <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n                            <span className=\"badge bg-info bg-opacity-20 text-info\">Hypothetical</span>\r\n                             {Tests.length > 0 && (\r\n                                <Button variant=\"link\" className=\"text-danger p-0\" title=\"Remove\" onClick={() => {\r\n                                    const newTests = [...Tests];\r\n                                    newTests.splice(index, 1);\r\n                                    setTests(newTests);\r\n                                }}>x</Button>\r\n                             )}\r\n                        </div>\r\n                    <Form.Group className=\"mb-3\">\r\n                        <Form.Label className=\"text-muted small text-uppercase\">Name</Form.Label>\r\n                        <Form.Control\r\n                          required\r\n                          type=\"text\"\r\n                          placeholder=\"e.g. Final Exam\"\r\n                          value={test.name}\r\n                          onChange={(event) => handleTestNameChange(event, index)}\r\n                          className=\"bg-transparent text-white border-secondary border-opacity-50\"\r\n                        />\r\n                    </Form.Group>\r\n                    <Row>\r\n                        <Col>\r\n                            <Form.Group>\r\n                              <Form.Label className=\"text-muted small text-uppercase\">Weight</Form.Label>\r\n                              <Form.Control\r\n                                required\r\n                                type=\"number\" step=\"0.01\"\r\n                                placeholder=\"0.2\"\r\n                                value={test.weight}\r\n                                onChange={(event) => handleTestWeightChange(event, index)}\r\n                                className=\"bg-transparent text-white border-secondary border-opacity-50\"\r\n                              />\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col>\r\n                            <Form.Group>\r\n                              <Form.Label className=\"text-muted small text-uppercase\">Est. Grade</Form.Label>\r\n                              <Form.Control\r\n                                required\r\n                                type=\"number\"\r\n                                placeholder=\"95\"\r\n                                value={test.grade}\r\n                                onChange={(event) => handleTestGradeChange(event, index)}\r\n                                className=\"bg-transparent text-white border-secondary border-opacity-50\"\r\n                              />\r\n                            </Form.Group>\r\n                        </Col>\r\n                    </Row>\r\n                    </Card.Body>\r\n                  </Card>\r\n                ))}\r\n                \r\n                <div className=\"d-grid gap-2\">\r\n                  <Button\r\n                    variant=\"outline-info\"\r\n                    onClick={handleAddRow}\r\n                    className=\"border-dashed\"\r\n                  >\r\n                    + Add Hypothetical Assignment\r\n                  </Button>\r\n\r\n                  <Button\r\n                    variant=\"primary\"\r\n                    type=\"submit\"\r\n                    className=\"mt-3 py-2 fw-bold\"\r\n                  >\r\n                    Calculate Final Prediction\r\n                  </Button>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default GradesForm;\r\n","// //src/pages/Grades/MyGrades.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"../../services/mockApi\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport GradesForm from \"../../components/GradesForm\";\r\nimport { Container, Form, Card, Row, Col, Button } from \"react-bootstrap\";\r\n\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nconst MyGrades = () => {\r\n  const { getAuthToken, user, userDetails } = useAuth();\r\n  const [grades, setGrades] = useState([]);\r\n  const [completedAssignments, setCompletedAssignments] = useState([]);\r\n  const [estimatedGrade, setEstimatedGrade] = useState(null);\r\n  const [courses, setCourses] = useState([]);\r\n  const [selectedCourse, setSelectedCourse] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [GradePrediction, setGradePrediction] = useState(null);\r\n\r\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${getAuthToken()}`;\r\n  const apiKey = process.env.REACT_APP_API_KEY;\r\n  const userInfo = JSON.parse(userDetails);\r\n\r\n  useEffect(() => {\r\n    const fetchCourses = async () => {\r\n      try {\r\n        const apiKey = process.env.REACT_APP_API_KEY;\r\n        const response = await axios.get(\r\n          `${apiKey}/courses/student/${userInfo._id}`\r\n        );\r\n        const fetchedCourses = response.data;\r\n        setCourses(fetchedCourses);\r\n        //console.log(\"Courses:\", fetchedCourses);\r\n      } catch (error) {\r\n        console.error(\"Error:\", error);\r\n      }\r\n    };\r\n    fetchCourses();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchEstimatedGrade = async (courseId) => {\r\n      try {\r\n        const studentId = userInfo._id;\r\n        const selected = courseId;\r\n        //console.log(\"Course ID:\", selected);\r\n        const response = await axios.get(\r\n          `${apiKey}/grades/estimate-grades/${studentId}/${selected}`\r\n        );\r\n\r\n        const completedAssignments = response.data;\r\n        //console.log(\"Completed Assignments:\", completedAssignments);\r\n        setCompletedAssignments(completedAssignments);\r\n        setEstimatedGrade(response.data);\r\n        setError(null);\r\n        setIsLoading(false); // Set loading to false once estimated grade is fetched\r\n      } catch (error) {\r\n        setIsLoading(false);\r\n        setError(\r\n          \"Error fetching estimated grade. Message: Do you have any Assignments for this course?\"\r\n        );\r\n        console.error(\"Error fetching estimated grade:\", error.message);\r\n      }\r\n    };\r\n    if (selectedCourse) {\r\n      fetchEstimatedGrade(selectedCourse);\r\n    }\r\n  }, [selectedCourse]);\r\n\r\n  const handleChildData = (data) => {\r\n    const calculateFinalGrade = () => {\r\n      // Calculate the final grade based on weights and grades\r\n      let totalWeight = 0;\r\n      let weightedSum = 0;\r\n\r\n      data.forEach((assignment) => {\r\n        totalWeight += assignment.weight;\r\n        weightedSum += assignment.grade * assignment.weight;\r\n      });\r\n\r\n      const finalGrade = weightedSum / totalWeight;\r\n      setGradePrediction(finalGrade);\r\n      //console.log(\"Final Grade:\", GradePrediction);\r\n    };\r\n\r\n    calculateFinalGrade();\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      <div className=\"glass-panel p-4 mb-4 text-center\">\r\n        <h2 className=\"display-6 fw-bold mb-0\">My Grades</h2>\r\n        <p className=\"text-muted mt-2 mb-0\">Track your performance and predict your final score</p>\r\n      </div>\r\n\r\n      <Row className=\"justify-content-center\">\r\n        <Col md={8} lg={6}>\r\n          <div className=\"glass-panel p-4 mb-4\">\r\n            <Form.Label className=\"text-muted text-uppercase small ls-1\">Select Course</Form.Label>\r\n            <Form.Select\r\n              id=\"course-select\"\r\n              className=\"bg-dark-glass text-white border-secondary border-opacity-25 mb-3\"\r\n              onChange={(e) =>\r\n                setSelectedCourse(() => {\r\n                  if (e.target.value !== \"\") return e.target.value;\r\n                  else return null;\r\n                })\r\n              }\r\n            >\r\n              <option value=\"\" className=\"text-dark\">Select a course to view...</option>\r\n              {courses.map((course) => (\r\n                <option key={course._id} value={course._id} className=\"text-dark\">\r\n                  {course.name}\r\n                </option>\r\n              ))}\r\n            </Form.Select>\r\n            <Button\r\n              variant=\"outline-primary\"\r\n              className=\"w-100\"\r\n              onClick={() => {\r\n                setGrades([]);\r\n                setCompletedAssignments([]);\r\n                setEstimatedGrade(null);\r\n                setSelectedCourse(null);\r\n                setIsLoading(true);\r\n                setError(null);\r\n                setGradePrediction(null);\r\n                if(document.getElementById(\"course-select\")) document.getElementById(\"course-select\").selectedIndex = 0;\r\n              }}\r\n            >\r\n              Reset Selection\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row className=\"justify-content-center\">\r\n        <Col md={12}>\r\n          {isLoading && !selectedCourse ? (\r\n            <div className=\"text-center text-muted py-5\">\r\n               <div style={{fontSize: '3rem', opacity: 0.3}}>ðŸŽ“</div>\r\n               <p className=\"mt-3\">Select a course above to get started.</p>\r\n            </div>\r\n          ) : isLoading ? (\r\n             <div className=\"text-center py-5\">\r\n                 <div className=\"spinner-border text-primary mb-3\" role=\"status\"></div>\r\n                 <p>Loading course data...</p>\r\n             </div>\r\n          ) : error ? (\r\n            <div className=\"text-center text-danger glass-panel p-4\">{error}</div>\r\n          ) : (\r\n            <>\r\n              {completedAssignments ? (\r\n                <div className=\"glass-panel p-4\">\r\n                  <GradesForm\r\n                    completedassignments={completedAssignments}\r\n                    handleChildData={handleChildData}\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div className=\"glass-panel p-5 text-center\">\r\n                    <p className=\"text-muted\">No completed assignments found for this course.</p>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyGrades;\r\n"],"names":["_ref","handleChildData","completedassignments","name","weight","grade","assignments","setAssignments","useState","validated","setValidated","Tests","setTests","allTasks","setAllTasks","GradePrediction","setGradePrediction","useEffect","length","toast","info","_jsxs","_Fragment","children","_jsx","ToastContainer","Card","className","Body","Number","toFixed","Button","variant","onClick","Form","noValidate","onSubmit","event","currentTarget","checkValidity","preventDefault","stopPropagation","error","checkWeights","totalWeight","forEach","assignment","parseFloat","test","combinedData","data","weightedSum","calculateFinalGrade","Row","Col","md","lg","map","index","Group","controlId","concat","Label","Control","required","type","value","onChange","handleNameChange","newAssignments","target","readOnly","step","handleWeightChange","handleGradeChange","title","newTests","splice","placeholder","handleTestNameChange","handleTestWeightChange","handleTestGradeChange","handleAddRow","MyGrades","getAuthToken","user","userDetails","useAuth","grades","setGrades","completedAssignments","setCompletedAssignments","estimatedGrade","setEstimatedGrade","courses","setCourses","selectedCourse","setSelectedCourse","isLoading","setIsLoading","setError","axios","defaults","headers","common","userInfo","JSON","parse","async","apiKey","process","fetchedCourses","get","_id","console","fetchCourses","studentId","selected","courseId","response","message","fetchEstimatedGrade","Select","id","e","course","document","getElementById","selectedIndex","style","fontSize","opacity","role","GradesForm"],"sourceRoot":""}