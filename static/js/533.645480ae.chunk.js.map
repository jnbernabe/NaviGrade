{"version":3,"file":"static/js/533.645480ae.chunk.js","mappings":"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","sources":["pages/Calendar/Calendar.js","pages/Dashboard/Dashboard.js","webpack://navigrade/./src/pages/Calendar/Calendar.css?967f"],"sourcesContent":["//Calendar.js\r\nimport React, {useState} from 'react';\r\nimport { \r\n  Calendar as BigCalendar,\r\n  dateFnsLocalizer,\r\n  CalendarProps\r\n} from 'react-big-calendar';\r\nimport format from 'date-fns/format';\r\nimport parse from 'date-fns/parse';\r\nimport startOfWeek from 'date-fns/startOfWeek';\r\nimport getDay from 'date-fns/getDay';\r\nimport DatePicker from 'react-datepicker';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\n//css files\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\nrequire('./Calendar.css')\r\n\r\n\r\nconst locales = {\r\n  'en-CA': require('date-fns/locale/en-CA'),\r\n};\r\nconst localizer = dateFnsLocalizer({\r\n  format,\r\n  parse,\r\n  startOfWeek,\r\n  getDay,\r\n  locales\r\n}); \r\n\r\nconst getDayOfWeek = dayAbbr => {\r\n  const days = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\r\n  // Handle full names just in case (e.g., 'Monday') and short names ('Mon')\r\n  const d = dayAbbr.toLowerCase().slice(0, 3);\r\n  return days.indexOf(d);\r\n};\r\n\r\nconst MyCalendar = ({ courses = [], assignments = [], height = \"700px\" }) => {\r\n  // Map course schedules to events\r\n  const [selectedEvent, setSelectedEvent] = useState(null);\r\n\r\n  const handleEventClick = event => {\r\n    setSelectedEvent(event);\r\n  };\r\n  \r\n  const handleCloseModal = () => {\r\n    setSelectedEvent(null);\r\n  };\r\n  \r\n  // Create a map of course colors for easy lookup\r\n  const courseColors = {};\r\n  courses.forEach(c => {\r\n      courseColors[c._id] = c.color;\r\n  });\r\n\r\n  // Generate Course Events\r\n  let events = courses.flatMap(course => {\r\n    const courseEvents = [];\r\n    if (!course.schedules) return [];\r\n\r\n    course.schedules.forEach(schedule => {\r\n      const startDate = new Date(course.startDate);\r\n      const endDate = new Date(course.endDate);\r\n      let currentDate = startDate;\r\n      \r\n      // Parse days (e.g. \"Mon, Wed\" or \"Monday\")\r\n      const days = schedule.day ? schedule.day.split(',').map(d => d.trim()) : [];\r\n      const targetDayIndices = days.map(getDayOfWeek).filter(idx => idx !== -1);\r\n\r\n      while (currentDate <= endDate) {\r\n        const scheduleDay = new Date(currentDate);\r\n        scheduleDay.setHours(0, 0, 0, 0);\r\n\r\n        if (targetDayIndices.includes(scheduleDay.getDay())) {\r\n          const startTimeParts = schedule.startTime.split(':').map(part => parseInt(part, 10));\r\n          const endTimeParts = schedule.endTime.split(':').map(part => parseInt(part, 10));\r\n\r\n          const startDateTime = new Date(scheduleDay);\r\n          startDateTime.setHours(startTimeParts[0], startTimeParts[1]);\r\n\r\n          const endDateTime = new Date(scheduleDay);\r\n          endDateTime.setHours(endTimeParts[0], endTimeParts[1]);\r\n\r\n          courseEvents.push({\r\n            id: `${course._id}_${startDateTime.getTime()}`,\r\n            title: course.name,\r\n            start: startDateTime,\r\n            end: endDateTime,\r\n            type: 'course',\r\n            desc: `Class: ${course.name} (${course.professor})`,\r\n            color: course.color || '#8b5cf6' // Use course color or default violet\r\n          });\r\n        }\r\n        currentDate.setDate(currentDate.getDate() + 1);\r\n      }\r\n    });\r\n\r\n    return courseEvents;\r\n  });\r\n\r\n  // Generate Assignment Events\r\n  if (assignments && assignments.length > 0) {\r\n    const assignmentEvents = assignments.map((assignment) => {\r\n      const duedate = new Date(assignment.dueDate);\r\n      \r\n      return {\r\n        id: assignment._id,\r\n        title: `DUE: ${assignment.name}`,\r\n        start: duedate,\r\n        end: duedate,\r\n        allDay: true,\r\n        type: 'assignment',\r\n        desc: `Assignment Due: ${assignment.name}`,\r\n        color: '#f59e0b' // Fixed Orange for all assignments to be distinct from Courses\r\n      };\r\n    });\r\n    events = [...events, ...assignmentEvents];\r\n  }\r\n\r\n  // Custom Event Styling\r\n  const eventStyleGetter = (event, start, end, isSelected) => {\r\n    let style = {\r\n      border: 'none',\r\n      borderRadius: '4px',\r\n      opacity: 0.9,\r\n      color: 'white',\r\n      display: 'block',\r\n      backgroundColor: event.color,\r\n      fontSize: '0.75rem', // Smaller font\r\n      padding: '1px 4px', // Compact padding\r\n      lineHeight: '1.2'\r\n    };\r\n\r\n    if (event.type === 'assignment') {\r\n      style.borderLeft = '3px solid #b45309'; // Darker orange border\r\n      style.fontWeight = '600';\r\n    } else {\r\n        // Course events\r\n        style.opacity = 0.85;\r\n    }\r\n\r\n    return {\r\n      style: style\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div style={{height: height}} className=\"p-3\">\r\n    <BigCalendar \r\n      defaultView='month' \r\n      localizer={localizer} \r\n      events={events} \r\n      startAccessor=\"start\" \r\n      endAccessor=\"end\" \r\n      locales={locales}\r\n      onSelectEvent={handleEventClick}\r\n      eventPropGetter={eventStyleGetter}\r\n      popup\r\n      />\r\n      \r\n      {selectedEvent && (\r\n        <Modal show={true} onHide={handleCloseModal} centered contentClassName=\"glass-modal\">\r\n          <Modal.Header closeButton closeVariant=\"white\">\r\n            <Modal.Title>{selectedEvent.title}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <p className=\"fs-5\">{selectedEvent.desc}</p>\r\n            <p className=\"text-muted\">\r\n              {selectedEvent.allDay \r\n                ? format(selectedEvent.start, 'PPPP') \r\n                : `${format(selectedEvent.start, 'PPPP p')} - ${format(selectedEvent.end, 'p')}`\r\n              }\r\n            </p>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"primary\" onClick={handleCloseModal}>\r\n              Close\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyCalendar;","// Dashboard.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"../../services/mockApi\";\r\nimport { Card, Button } from \"react-bootstrap\";\r\nimport { useAuth, AuthProvider } from \"../../contexts/AuthContext\";\r\nimport \"./Dashboard.css\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport AssignmentItem from \"../../components/AssignmentItem\";\r\nimport AssignmentProgressbar from \"../../components/AssignmentProgressbar\";\r\nimport Calendar from \"../Calendar/Calendar\";\r\n\r\nconst Dashboard = () => {\r\n  const [assignments, setAssignments] = useState([]);  //assignments are sorted by completed\r\n  const [courses, setCourses] = useState([]);\r\n  // const [totalAssignments, setTotalAssignments] = useState([]); //totalAssignments are total assignment without sorting \r\n  const [totalAssignments, setTotalAssignments] = useState([]);\r\n \r\n  const { getAuthToken } = useAuth();\r\n  const { user, userDetails } = useAuth(AuthProvider);\r\n  const userInfo = JSON.parse(userDetails);\r\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${getAuthToken()}`;\r\n\r\n  useEffect(() => {\r\n    fetchAssignments();\r\n  }, []);\r\n\r\n // console.log('userinfo',userInfo.email);\r\n\r\n  const formatDateToMDYY = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const month = date.getMonth() + 1;\r\n    const day = date.getDate();\r\n    const year = date.getFullYear().toString().substr(-2);\r\n    return `${month}/${day}/${year} `;\r\n  };\r\n\r\n  const fetchAssignments = async () => {\r\n    try {\r\n      const apiKey = process.env.REACT_APP_API_KEY;\r\n      const response = await axios.get(\r\n        `${apiKey}/assignments/student/${userInfo._id}`\r\n      );\r\n      const fetchedAssignments = response.data;\r\n      setTotalAssignments(fetchedAssignments);\r\n      const updatedAssignments = await Promise.all(\r\n        fetchedAssignments\r\n          .filter((assignment) => !assignment.completed)\r\n          .map(async (assignment) => {\r\n            const courseResponse = await axios.get(\r\n              `${apiKey}/courses/${assignment.course}`\r\n            );\r\n            const courseName = courseResponse.name;\r\n            return { ...assignment, course: courseName };\r\n          })\r\n      );\r\n      const sortedAssignments = [...updatedAssignments].sort((a, b) => {\r\n        return new Date(a.dueDate) - new Date(b.dueDate);\r\n      });\r\n      setAssignments(sortedAssignments);\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n    }\r\n  };\r\n\r\n\r\n  const notifyClosestAssignment = () => {\r\n    if (assignments.length === 0) {\r\n      toast(\"No assignments currently.\");\r\n      return;\r\n    }\r\n  \r\n    // Sort assignments by dueDate in ascending order\r\n    const sortedAssignments = [...assignments].sort((a, b) => {\r\n      return new Date(a.dueDate) - new Date(b.dueDate);\r\n    });\r\n  \r\n    // Get the closest assignment (first one in the sorted list)\r\n    const closestAssignment = sortedAssignments[0];\r\n  \r\n    const today = new Date();\r\n    const dueDate = new Date(closestAssignment.dueDate);\r\n    const diffTime = dueDate - today;\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n    // Display a toast with information about the closest assignment\r\n    toast(`Closest assignment: ${closestAssignment.name}  \r\n    ${diffDays} day(s) left`);\r\n  };\r\n\r\n  const notifyEmailSentMessage = () =>{\r\n    toast(\"Email sent\");\r\n  }\r\n//email notification \r\nconst handleSendEmail = async () => {\r\n \r\n  try {\r\n    const sortedAssignments = [...assignments].sort((a, b) => {\r\n      return new Date(a.dueDate) - new Date(b.dueDate);\r\n    });\r\n    if(sortedAssignments.length == 0){\r\n      toast(\"You do not have any assignment\");\r\n    }\r\n    const closestAssignment = sortedAssignments[0];\r\n    const today = new Date();\r\n    const dueDate = new Date(closestAssignment.dueDate);\r\n    const diffTime = dueDate - today;\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n    const userEmail = userInfo.email;\r\n    const apiKey = process.env.REACT_APP_API_KEY;\r\n    const response = await axios.post( `${apiKey}/email/sendEmail`,{\r\n    closestAssignment: closestAssignment,\r\n    diffDays: diffDays,\r\n    userEmail: userEmail\r\n    });\r\n    console.log('dueDate' ,dueDate)\r\n    console.log(\"Email sent\")\r\n    // pop up message\r\n    notifyEmailSentMessage();\r\n  } catch (error) {\r\n    console.error(\"Error sending email:\", error);\r\n   \r\n  }\r\n};\r\n\r\nconst fetchCourses = async () => {\r\n  try {\r\n    const apiKey = process.env.REACT_APP_API_KEY;\r\n    const response = await axios.get(\r\n      `${apiKey}/courses/student/${userInfo._id}`\r\n    );\r\n    const fetchedCourses = response.data;\r\n    setCourses(fetchedCourses);\r\n  } catch (error) {\r\n    console.error(\"Error fetching courses:\", error);\r\n  }\r\n};\r\n\r\n\r\n  const getGreeting = () => {\r\n    const hour = new Date().getHours();\r\n    if (hour < 12) return \"Good Morning\";\r\n    if (hour < 18) return \"Good Afternoon\";\r\n    return \"Good Evening\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard-container mx-auto\">\r\n    \r\n     \r\n    <div id=\"cssportal-grid\">\r\n      <div id=\"div1\">\r\n        {/* Left: Compact Greeting */}\r\n        <div className=\"d-flex align-items-center gap-2 pe-4 border-end border-secondary border-opacity-25\" style={{ minWidth: '220px' }}>\r\n             <div className=\"rounded-circle bg-primary bg-opacity-10 p-2 d-flex align-items-center justify-content-center\" style={{width: '40px', height:'40px'}}>\r\n                 <span style={{fontSize: '1.2rem'}}>ðŸ‘‹</span>\r\n             </div>\r\n             <div>\r\n                 <div className=\"text-muted small text-uppercase\" style={{fontSize: '0.65rem', letterSpacing: '1px'}}>{getGreeting()}</div>\r\n                 <div className=\"fw-bold text-white lh-1\">{userInfo.firstName}</div>\r\n             </div>\r\n        </div>\r\n\r\n        {/* Middle: Progress Bar (Takes remaining space) */}\r\n        <div className=\"flex-grow-1 px-4\">\r\n          <AssignmentProgressbar assignments={totalAssignments} />\r\n        </div>\r\n\r\n        {/* Right: Actions */}\r\n        <div className=\"d-flex gap-2 ps-4 border-start border-secondary border-opacity-25\">\r\n             <Button size=\"sm\" variant=\"outline-light\" className=\"border-opacity-25 text-muted hover-white\" onClick={notifyClosestAssignment} style={{fontSize: '0.8rem'}}>\r\n                Next Due\r\n              </Button>\r\n              <ToastContainer theme=\"dark\" />\r\n              <Button size=\"sm\" variant=\"primary\" onClick={handleSendEmail} style={{fontSize: '0.8rem', padding: '0.25rem 0.75rem'}}>\r\n                Reminder\r\n              </Button>\r\n        </div>\r\n      </div>\r\n      <div id=\"div2\" className=\"glass-panel\">\r\n        {/* left column */}\r\n              \r\n      <h4>Assignment(s)</h4>\r\n      {assignments.length === 0 ? (\r\n        <p>No assignments currently.</p>\r\n      ) : (\r\n        <div className=\"assignment-list\">\r\n          {assignments.map((assignment) => (\r\n            <Card\r\n              key={assignment._id}\r\n              className=\"assignment-card\"\r\n              bsPrefix=\"card\"\r\n            >\r\n              <AssignmentItem\r\n                assignment={assignment}\r\n                studentId={userInfo._id}\r\n              />\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      )}\r\n      </div>\r\n      <div id=\"div3\" className=\"text-center\"> \r\n       <h4>Assignment Calendar</h4>\r\n      \r\n       <Calendar courses={courses} assignments={totalAssignments} height=\"600px\" />\r\n      </div>\r\n  </div>\r\n\r\n      {/* \r\n      <AssignmentProgressbar\r\n      assignments={ totalAssignments}\r\n      />\r\n      <Button variant=\"warning\" onClick={notifyClosestAssignment}>\r\n        What should I do!?\r\n      </Button>\r\n      <ToastContainer />\r\n      <button onClick={handleSendEmail}>Send Email</button>\r\n      <h4>Assignment(s)</h4>\r\n      {assignments.length === 0 ? (\r\n        <p>No assignments currently.</p>\r\n      ) : (\r\n        <div className=\"assignment-list\">\r\n          {assignments.map((assignment) => (\r\n            <Card\r\n              key={assignment._id}\r\n              className=\"assignment-card\"\r\n              style={{ flex: \"0 0 calc(33% - 1em)\", margin: \"0.5em\" }}\r\n              bsPrefix\r\n            >\r\n              <AssignmentItem\r\n                assignment={assignment}\r\n                studentId={userInfo._id}\r\n              />\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      )} */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","// extracted by mini-css-extract-plugin\nexport default {};"],"names":["require","locales","localizer","dateFnsLocalizer","format","parse","startOfWeek","getDay","getDayOfWeek","dayAbbr","d","toLowerCase","slice","indexOf","_ref","courses","assignments","height","selectedEvent","setSelectedEvent","useState","handleCloseModal","courseColors","forEach","c","_id","color","events","flatMap","course","courseEvents","schedules","schedule","startDate","Date","endDate","currentDate","targetDayIndices","day","split","map","trim","filter","idx","scheduleDay","setHours","includes","startTimeParts","startTime","part","parseInt","endTimeParts","endTime","startDateTime","endDateTime","push","id","concat","getTime","title","name","start","end","type","desc","professor","setDate","getDate","length","assignmentEvents","assignment","duedate","dueDate","allDay","_jsxs","style","className","children","_jsx","BigCalendar","defaultView","startAccessor","endAccessor","onSelectEvent","event","eventPropGetter","eventStyleGetter","isSelected","border","borderRadius","opacity","display","backgroundColor","fontSize","padding","lineHeight","borderLeft","fontWeight","popup","Modal","show","onHide","centered","contentClassName","Header","closeButton","closeVariant","Title","Body","Footer","Button","variant","onClick","Dashboard","setAssignments","setCourses","totalAssignments","setTotalAssignments","getAuthToken","useAuth","user","userDetails","AuthProvider","userInfo","JSON","axios","defaults","headers","common","useEffect","fetchAssignments","async","apiKey","process","fetchedAssignments","get","data","sortedAssignments","Promise","all","completed","courseName","_objectSpread","sort","a","b","error","console","minWidth","width","letterSpacing","getGreeting","hour","getHours","firstName","AssignmentProgressbar","size","notifyClosestAssignment","toast","closestAssignment","today","diffTime","diffDays","Math","ceil","ToastContainer","theme","userEmail","email","post","log","Card","bsPrefix","AssignmentItem","studentId","Calendar"],"sourceRoot":""}