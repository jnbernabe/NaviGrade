{"version":3,"file":"static/js/285.d529900c.chunk.js","mappings":"kMAQA,MA8FA,EA9FeA,KACX,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,KAC9BC,EAASC,IAAcF,EAAAA,EAAAA,UAAS,CAAC,IACjCG,EAAgBC,IAAqBJ,EAAAA,EAAAA,UAAS,KAC9CK,EAAOC,IAAYN,EAAAA,EAAAA,UAAS,KAC5BO,EAAUC,IAAeR,EAAAA,EAAAA,UAAS,CAAC,IACzBS,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,KACNC,EAAAA,EAAMC,IAAI,qCACLC,MAAKC,IACFf,EAAUe,EAASC,KAAK,IAE3BC,OAAMC,GAASC,QAAQD,MAAM,SAAUA,KAExCN,EAAAA,EAAMC,IAAI,iCACTC,MAAKC,IACF,MAAMC,EAAOD,EAASC,KAEhBI,EAAc,CAAC,EACrBJ,EAAKK,SAAQC,IACTF,EAAYE,EAAOC,KAAOD,EAAOE,IAAI,IAEzCrB,EAAWiB,EAAY,IAE1BH,OAAMC,GAASC,QAAQD,MAAM,SAAUA,KAIxCN,EAAAA,EAAMC,IAAI,kCACTC,MAAKC,IACF,MAAMC,EAAOD,EAASC,KAEhBS,EAAe,CAAC,EACtBT,EAAKK,SAAQK,IACTD,EAAaC,EAAQH,KAAOG,EAAQC,SAAS,IAEjDlB,EAAYgB,EAAa,IAE5BR,OAAMC,GAASC,QAAQD,MAAM,SAAUA,IAAO,GAEpD,IA+BH,OACIU,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,gBAAgB,KACpBC,EAAAA,EAAAA,KAAA,MAAAD,SACS/B,EAAOiC,KAAI1B,IACRyB,EAAAA,EAAAA,KAAA,MAAAD,UACIF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACAF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,oBAAkBxB,EAAMkB,QAAU,KACtCI,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,UAAQxB,EAAMA,UAClBsB,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,WAASxB,EAAM2B,WAClBL,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,WAAS5B,EAAQI,EAAMgB,YAC1BM,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,iBAAetB,EAASF,EAAMoB,aACjCK,EAAAA,EAAAA,KAAA,KAAAD,UAAGC,EAAAA,EAAAA,KAACG,EAAAA,GAAI,CAACC,GAAE,cAAAC,OAAgB9B,EAAMiB,KAAMO,SAAC,YACxCC,EAAAA,EAAAA,KAACM,EAAAA,EAAM,CAACC,QAAQ,SAASC,QAASA,IAxCtCC,WAEhB,GADqBC,OAAOC,QAAQ,+CAMhC,IAE4B,aADD9B,EAAAA,EAAM+B,OAAO,qCAADP,OAAsCQ,KAC5DC,QAETC,MAAM,+BACNL,OAAOM,SAASC,KAAO,WAGvBF,MAAM,0BAEd,CAAC,MAAAG,GACO9B,QAAQD,MAAM,UACd4B,MAAM,0BACd,CACJ,EAmB4DI,CAAY5C,EAAMiB,KAAKO,SAAC,0BAR3DxB,EAAMiB,WAazB,C","sources":["pages/Grades/Grades.js"],"sourcesContent":["//src/pages/Grades/Grades.js\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './grades.css';\nimport axios from \"../../services/mockApi\";\nimport Button from 'react-bootstrap/Button';\nimport { useNavigate } from 'react-router-dom';\n\nconst Grades = () => {\n    const [grades, setGrades] = useState([]);\n    const [courses, setCourses] = useState({});\n    const [assignmentName, setAssignmentName] = useState('');\n    const [grade, setGrade] = useState('');\n    const [students, setStudents] = useState({});\n    const navigate = useNavigate();\n    \n    useEffect(() => {\n        axios.get('http://localhost:5050/assignments')\n            .then(response => {\n                setGrades(response.data);\n            })\n            .catch(error => console.error('Error:', error));\n\n            axios.get('http://localhost:5050/courses')\n            .then(response => {\n                const data = response.data;\n                // save courseData as object\n                const coursesData = {};\n                data.forEach(course => {\n                    coursesData[course._id] = course.name;\n                });\n                setCourses(coursesData);\n            })\n            .catch(error => console.error('Error:', error));\n\n\n\n            axios.get('http://localhost:5050/students')\n            .then(response => {\n                const data = response.data;\n                // save courseData as object\n                const studentsData = {};\n                data.forEach(student => {\n                    studentsData[student._id] = student.firstName;\n                });\n                setStudents(studentsData);\n            })\n            .catch(error => console.error('Error:', error));\n\n    }, []);\n\n\n\n    const deleteGrade = async (id) => {\n        const confirmation = window.confirm('Are you sure you want to delete this grade?');\n        if (confirmation) {\n            //Only works on the front end\n            // const updatedGrades = grades.filter(grade => grade._id !== id);\n            // setGrades(updatedGrades);\n            // alert('Grade deleted successfully.');\n            try{\n                const response = await axios.delete(`http://localhost:5050/assignments/${id}`);\n                if (response.status === 200) {\n                    //Show lert if succeed\n                    alert('Grade deleted successfully.');\n                    window.location.href = '/grades'\n                } else {\n                   \n                    alert('Failed to delete grade.');\n                }\n            }catch{\n                    console.error('Error:');\n                    alert('Failed to delete grade.');\n            }\n        }\n        \n    };\n\n    //console.log('Grades',grades)\n\n    return (\n        <div className=\"grades-container\">\n            <h2>Grade Page </h2> {/**add User name once lgin */} \n            <ul>\n                    {grades.map(grade => (\n                        <li key={grade._id}>\n                            <div>\n                            <h3>Assignment Name: {grade.name}</h3> {/**Assignment Name */}\n                            <h3>Grade: {grade.grade}</h3>\n                            <p>Weight: {grade.weight}</p>\n                            <p>Course: {courses[grade.course]}</p>\n                            <p>Student Name: {students[grade.student]}</p>\n                            <p><Link to={`/editgrade/${grade._id}`}>Edit</Link></p> \n                            <Button variant=\"danger\" onClick={() => deleteGrade(grade._id)}>Delete Assignment</Button>\n                         </div>\n                        </li>\n                    ))}\n            </ul>\n        </div>\n    );\n};\n\nexport default Grades;\n\n\n"],"names":["Grades","grades","setGrades","useState","courses","setCourses","assignmentName","setAssignmentName","grade","setGrade","students","setStudents","useNavigate","useEffect","axios","get","then","response","data","catch","error","console","coursesData","forEach","course","_id","name","studentsData","student","firstName","_jsxs","className","children","_jsx","map","weight","Link","to","concat","Button","variant","onClick","async","window","confirm","delete","id","status","alert","location","href","_unused","deleteGrade"],"sourceRoot":""}