{"version":3,"file":"static/js/285.d529900c.chunk.js","mappings":"kMAQA,MA8FA,EA9FeA,KACX,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,KAC9BC,EAASC,IAAcF,EAAAA,EAAAA,UAAS,CAAC,IACjCG,EAAgBC,IAAqBJ,EAAAA,EAAAA,UAAS,KAC9CK,EAAOC,IAAYN,EAAAA,EAAAA,UAAS,KAC5BO,EAAUC,IAAeR,EAAAA,EAAAA,UAAS,CAAC,IACzBS,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,KACNC,EAAAA,EAAMC,IAAI,qCACLC,MAAKC,IACFf,EAAUe,EAASC,KAAK,IAE3BC,OAAMC,GAASC,QAAQD,MAAM,SAAUA,KAExCN,EAAAA,EAAMC,IAAI,iCACTC,MAAKC,IACF,MAAMC,EAAOD,EAASC,KAEhBI,EAAc,CAAC,EACrBJ,EAAKK,SAAQC,IACTF,EAAYE,EAAOC,KAAOD,EAAOE,IAAI,IAEzCrB,EAAWiB,EAAY,IAE1BH,OAAMC,GAASC,QAAQD,MAAM,SAAUA,KAIxCN,EAAAA,EAAMC,IAAI,kCACTC,MAAKC,IACF,MAAMC,EAAOD,EAASC,KAEhBS,EAAe,CAAC,EACtBT,EAAKK,SAAQK,IACTD,EAAaC,EAAQH,KAAOG,EAAQC,SAAS,IAEjDlB,EAAYgB,EAAa,IAE5BR,OAAMC,GAASC,QAAQD,MAAM,SAAUA,IAAO,GAEpD,IA+BH,OACIU,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,gBAAgB,KACpBC,EAAAA,EAAAA,KAAA,MAAAD,SACS/B,EAAOiC,KAAI1B,IACRyB,EAAAA,EAAAA,KAAA,MAAAD,UACIF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACAF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,oBAAkBxB,EAAMkB,QAAU,KACtCI,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,UAAQxB,EAAMA,UAClBsB,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,WAASxB,EAAM2B,WAClBL,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,WAAS5B,EAAQI,EAAMgB,YAC1BM,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,iBAAetB,EAASF,EAAMoB,aACjCK,EAAAA,EAAAA,KAAA,KAAAD,UAAGC,EAAAA,EAAAA,KAACG,EAAAA,GAAI,CAACC,GAAE,cAAAC,OAAgB9B,EAAMiB,KAAMO,SAAC,YACxCC,EAAAA,EAAAA,KAACM,EAAAA,EAAM,CAACC,QAAQ,SAASC,QAASA,IAxCtCC,WAEhB,GADqBC,OAAOC,QAAQ,+CAMhC,IAE4B,aADD9B,EAAAA,EAAM+B,OAAO,qCAADP,OAAsCQ,KAC5DC,QAETC,MAAM,+BACNL,OAAOM,SAASC,KAAO,WAGvBF,MAAM,0BAEd,CAAC,MAAAG,GACO9B,QAAQD,MAAM,UACd4B,MAAM,0BACd,CACJ,EAmB4DI,CAAY5C,EAAMiB,KAAKO,SAAC,0BAR3DxB,EAAMiB,WAazB,C","sources":["pages/Grades/Grades.js"],"sourcesContent":["//src/pages/Grades/Grades.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './grades.css';\r\nimport axios from \"../../services/mockApi\";\r\nimport Button from 'react-bootstrap/Button';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Grades = () => {\r\n    const [grades, setGrades] = useState([]);\r\n    const [courses, setCourses] = useState({});\r\n    const [assignmentName, setAssignmentName] = useState('');\r\n    const [grade, setGrade] = useState('');\r\n    const [students, setStudents] = useState({});\r\n    const navigate = useNavigate();\r\n    \r\n    useEffect(() => {\r\n        axios.get('http://localhost:5050/assignments')\r\n            .then(response => {\r\n                setGrades(response.data);\r\n            })\r\n            .catch(error => console.error('Error:', error));\r\n\r\n            axios.get('http://localhost:5050/courses')\r\n            .then(response => {\r\n                const data = response.data;\r\n                // save courseData as object\r\n                const coursesData = {};\r\n                data.forEach(course => {\r\n                    coursesData[course._id] = course.name;\r\n                });\r\n                setCourses(coursesData);\r\n            })\r\n            .catch(error => console.error('Error:', error));\r\n\r\n\r\n\r\n            axios.get('http://localhost:5050/students')\r\n            .then(response => {\r\n                const data = response.data;\r\n                // save courseData as object\r\n                const studentsData = {};\r\n                data.forEach(student => {\r\n                    studentsData[student._id] = student.firstName;\r\n                });\r\n                setStudents(studentsData);\r\n            })\r\n            .catch(error => console.error('Error:', error));\r\n\r\n    }, []);\r\n\r\n\r\n\r\n    const deleteGrade = async (id) => {\r\n        const confirmation = window.confirm('Are you sure you want to delete this grade?');\r\n        if (confirmation) {\r\n            //Only works on the front end\r\n            // const updatedGrades = grades.filter(grade => grade._id !== id);\r\n            // setGrades(updatedGrades);\r\n            // alert('Grade deleted successfully.');\r\n            try{\r\n                const response = await axios.delete(`http://localhost:5050/assignments/${id}`);\r\n                if (response.status === 200) {\r\n                    //Show lert if succeed\r\n                    alert('Grade deleted successfully.');\r\n                    window.location.href = '/grades'\r\n                } else {\r\n                   \r\n                    alert('Failed to delete grade.');\r\n                }\r\n            }catch{\r\n                    console.error('Error:');\r\n                    alert('Failed to delete grade.');\r\n            }\r\n        }\r\n        \r\n    };\r\n\r\n    //console.log('Grades',grades)\r\n\r\n    return (\r\n        <div className=\"grades-container\">\r\n            <h2>Grade Page </h2> {/**add User name once lgin */} \r\n            <ul>\r\n                    {grades.map(grade => (\r\n                        <li key={grade._id}>\r\n                            <div>\r\n                            <h3>Assignment Name: {grade.name}</h3> {/**Assignment Name */}\r\n                            <h3>Grade: {grade.grade}</h3>\r\n                            <p>Weight: {grade.weight}</p>\r\n                            <p>Course: {courses[grade.course]}</p>\r\n                            <p>Student Name: {students[grade.student]}</p>\r\n                            <p><Link to={`/editgrade/${grade._id}`}>Edit</Link></p> \r\n                            <Button variant=\"danger\" onClick={() => deleteGrade(grade._id)}>Delete Assignment</Button>\r\n                         </div>\r\n                        </li>\r\n                    ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Grades;\r\n\r\n\r\n"],"names":["Grades","grades","setGrades","useState","courses","setCourses","assignmentName","setAssignmentName","grade","setGrade","students","setStudents","useNavigate","useEffect","axios","get","then","response","data","catch","error","console","coursesData","forEach","course","_id","name","studentsData","student","firstName","_jsxs","className","children","_jsx","map","weight","Link","to","concat","Button","variant","onClick","async","window","confirm","delete","id","status","alert","location","href","_unused","deleteGrade"],"sourceRoot":""}