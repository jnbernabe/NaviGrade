"use strict";(self.webpackChunknavigrade=self.webpackChunknavigrade||[]).push([[857],{4857:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var r=a(5043),o=a(4282),t=a(8628),l=a(7020),d=a(2766),c=a(9379),n=a(989),i=a(9853),u=a(1072),h=a(8602),m=a(1899),x=a.n(m),p=a(3401),A=(a(5015),a(579));const j=[{name:"Violet",value:"#8b5cf6"},{name:"Blue",value:"#3b82f6"},{name:"Green",value:"#10b981"},{name:"Red",value:"#ef4444"},{name:"Orange",value:"#f97316"},{name:"Pink",value:"#ec4899"},{name:"Cyan",value:"#06b6d4"},{name:"Yellow",value:"#eab308"}],b=e=>{let{show:s,onHide:a,onAdd:t}=e;const{getAuthToken:m,userDetails:b}=(0,d.A)(d.O),g=JSON.parse(b),v="http://localhost:5050",[y,f]=(0,r.useState)({name:"",professor:"",schedule:{day:"",startTime:"",endTime:""},startDate:new Date,endDate:new Date,memo:"",color:"#8b5cf6"}),N=(e,s)=>{f((a=>(0,c.A)((0,c.A)({},a),{},{[e]:s})))},w=(e,s)=>{f((a=>(0,c.A)((0,c.A)({},a),{},{schedule:(0,c.A)((0,c.A)({},a.schedule),{},{[e]:s})})))};return(0,A.jsxs)(n.A,{show:s,onHide:a,centered:!0,contentClassName:"glass-modal",children:[(0,A.jsx)(n.A.Header,{closeButton:!0,closeVariant:"white",className:"border-bottom border-secondary border-opacity-25",children:(0,A.jsx)(n.A.Title,{style:{fontFamily:"var(--font-header)"},children:"Add New Course"})}),(0,A.jsx)(n.A.Body,{className:"p-4",children:(0,A.jsxs)(i.A,{onSubmit:async e=>{e.preventDefault();try{const e={name:y.name,professor:y.professor,schedule:[y.schedule],startDate:y.startDate.toISOString(),endDate:y.endDate.toISOString(),color:y.color,memo:y.memo,assignments:[]};l.A.defaults.headers.common.Authorization="Bearer ".concat(m());const s=await l.A.post("".concat(v,"/courses/"),e);if(201===s.status){const r=s.data.courseId;await l.A.post("".concat(v,"/courses/").concat(g._id,"/add-course"),{courseId:r});const o=(0,c.A)((0,c.A)({},e),{},{_id:r});t(o),f({name:"",professor:"",schedule:{day:"",startTime:"",endTime:""},startDate:new Date,endDate:new Date,memo:"",color:"#8b5cf6"}),a()}}catch(s){console.error("Error adding course:",s),p.oR.error("Failed to add course.")}},children:[(0,A.jsxs)(u.A,{className:"g-3 mb-3",children:[(0,A.jsx)(h.A,{md:8,children:(0,A.jsxs)(i.A.Group,{children:[(0,A.jsx)(i.A.Label,{children:"Course Name"}),(0,A.jsx)(i.A.Control,{type:"text",placeholder:"e.g. Advanced Algorithms",value:y.name,onChange:e=>N("name",e.target.value),required:!0,className:"bg-dark-glass text-white border-secondary border-opacity-25"})]})}),(0,A.jsx)(h.A,{md:4,children:(0,A.jsxs)(i.A.Group,{children:[(0,A.jsx)(i.A.Label,{children:"Color Code"}),(0,A.jsx)("div",{className:"d-flex gap-2 flex-wrap",children:j.map((e=>(0,A.jsx)("div",{title:e.name,onClick:()=>N("color",e.value),style:{backgroundColor:e.value,width:"24px",height:"24px",borderRadius:"50%",cursor:"pointer",border:y.color===e.value?"2px solid white":"none",boxShadow:y.color===e.value?"0 0 8px "+e.value:"none"}},e.value)))})]})})]}),(0,A.jsxs)(i.A.Group,{className:"mb-3",children:[(0,A.jsx)(i.A.Label,{children:"Professor"}),(0,A.jsx)(i.A.Control,{type:"text",placeholder:"Dr. Smith",value:y.professor,onChange:e=>N("professor",e.target.value),className:"bg-dark-glass text-white border-secondary border-opacity-25"})]}),(0,A.jsx)(u.A,{className:"g-3 mb-3",children:(0,A.jsx)(h.A,{md:12,children:(0,A.jsxs)(i.A.Group,{children:[(0,A.jsx)(i.A.Label,{children:"Days"}),(0,A.jsx)("div",{className:"d-flex gap-2 flex-wrap",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((e=>(0,A.jsx)("div",{onClick:()=>{const s=y.schedule.day?y.schedule.day.split(", "):[];let a;if(s.includes(e))a=s.filter((s=>s!==e));else{a=[...s,e];const r=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];a.sort(((e,s)=>r.indexOf(e)-r.indexOf(s)))}w("day",a.join(", "))},style:{cursor:"pointer",padding:"0.4rem 0.8rem",borderRadius:"50px",background:y.schedule.day&&y.schedule.day.includes(e)?"var(--primary)":"rgba(255,255,255,0.1)",color:y.schedule.day&&y.schedule.day.includes(e)?"white":"var(--text-muted)",border:"1px solid var(--glass-border)",fontSize:"0.9rem",transition:"all 0.2s"},children:e},e)))})]})})}),(0,A.jsxs)(u.A,{className:"g-3 mb-3",children:[(0,A.jsx)(h.A,{md:6,children:(0,A.jsxs)(i.A.Group,{children:[(0,A.jsx)(i.A.Label,{children:"Start Time"}),(0,A.jsx)(i.A.Control,{type:"time",value:y.schedule.startTime,onChange:e=>w("startTime",e.target.value),className:"bg-dark-glass text-white border-secondary border-opacity-25"})]})}),(0,A.jsx)(h.A,{md:6,children:(0,A.jsxs)(i.A.Group,{children:[(0,A.jsx)(i.A.Label,{children:"End Time"}),(0,A.jsx)(i.A.Control,{type:"time",value:y.schedule.endTime,onChange:e=>w("endTime",e.target.value),className:"bg-dark-glass text-white border-secondary border-opacity-25"})]})})]}),(0,A.jsxs)(u.A,{className:"g-3 mb-3",children:[(0,A.jsx)(h.A,{md:6,children:(0,A.jsxs)(i.A.Group,{children:[(0,A.jsx)(i.A.Label,{children:"Start Date"}),(0,A.jsx)("div",{className:"custom-datepicker-wrapper",children:(0,A.jsx)(x(),{selected:y.startDate,onChange:e=>N("startDate",e),className:"form-control bg-dark-glass text-white border-secondary border-opacity-25 w-100"})})]})}),(0,A.jsx)(h.A,{md:6,children:(0,A.jsxs)(i.A.Group,{children:[(0,A.jsx)(i.A.Label,{children:"End Date"}),(0,A.jsx)("div",{className:"custom-datepicker-wrapper",children:(0,A.jsx)(x(),{selected:y.endDate,onChange:e=>N("endDate",e),className:"form-control bg-dark-glass text-white border-secondary border-opacity-25 w-100"})})]})})]}),(0,A.jsxs)(i.A.Group,{className:"mb-4",children:[(0,A.jsx)(i.A.Label,{children:"Memo"}),(0,A.jsx)(i.A.Control,{as:"textarea",rows:3,placeholder:"Course description or notes...",value:y.memo,onChange:e=>N("memo",e.target.value),className:"bg-dark-glass text-white border-secondary border-opacity-25"})]}),(0,A.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,A.jsx)(o.A,{variant:"ghost",onClick:a,className:"text-muted",children:"Cancel"}),(0,A.jsx)(o.A,{variant:"primary",type:"submit",className:"px-4",children:"Add Course"})]})]})})]})},g=[{name:"Violet",value:"#8b5cf6"},{name:"Blue",value:"#3b82f6"},{name:"Green",value:"#10b981"},{name:"Red",value:"#ef4444"},{name:"Orange",value:"#f97316"},{name:"Pink",value:"#ec4899"},{name:"Cyan",value:"#06b6d4"},{name:"Yellow",value:"#eab308"}],v=e=>{let{show:s,onHide:a,course:t,onUpdate:m,onDelete:j}=e;const{getAuthToken:b}=(0,d.A)(d.O),v="http://localhost:5050",[y,f]=(0,r.useState)({name:"",professor:"",schedule:{day:"",startTime:"",endTime:""},startDate:new Date,endDate:new Date,memo:"",color:"#8b5cf6"});(0,r.useEffect)((()=>{if(t){const e=t.schedules&&t.schedules[0]?t.schedules[0]:{day:"",startTime:"",endTime:""};f({name:t.name||"",professor:t.professor||"",schedule:e,startDate:t.startDate?new Date(t.startDate):new Date,endDate:t.endDate?new Date(t.endDate):new Date,memo:t.memo||"",color:t.color||"#8b5cf6"})}}),[t]);const N=(e,s)=>{f((a=>(0,c.A)((0,c.A)({},a),{},{[e]:s})))},w=(e,s)=>{f((a=>(0,c.A)((0,c.A)({},a),{},{schedule:(0,c.A)((0,c.A)({},a.schedule),{},{[e]:s})})))};return(0,A.jsxs)(n.A,{show:s,onHide:a,centered:!0,contentClassName:"glass-modal",children:[(0,A.jsx)(n.A.Header,{closeButton:!0,closeVariant:"white",className:"border-bottom border-secondary border-opacity-25",children:(0,A.jsx)(n.A.Title,{style:{fontFamily:"var(--font-header)"},children:"Edit Course"})}),(0,A.jsx)(n.A.Body,{className:"p-4",children:(0,A.jsxs)(i.A,{onSubmit:async e=>{e.preventDefault();try{const e={name:y.name,professor:y.professor,schedules:[y.schedule],startDate:y.startDate.toISOString(),endDate:y.endDate.toISOString(),color:y.color,memo:y.memo};l.A.defaults.headers.common.Authorization="Bearer ".concat(b());if(200===(await l.A.patch("".concat(v,"/courses/").concat(t._id),e)).status){const s=(0,c.A)((0,c.A)({},t),e);m(s),a(),p.oR.success("Course updated successfully!")}}catch(s){console.error("Error updating course:",s),p.oR.error("Failed to update course.")}},children:[(0,A.jsxs)(u.A,{className:"g-3 mb-3",children:[(0,A.jsx)(h.A,{md:8,children:(0,A.jsxs)(i.A.Group,{children:[(0,A.jsx)(i.A.Label,{children:"Course Name"}),(0,A.jsx)(i.A.Control,{type:"text",placeholder:"e.g. Advanced Algorithms",value:y.name,onChange:e=>N("name",e.target.value),required:!0,className:"bg-dark-glass text-white border-secondary border-opacity-25"})]})}),(0,A.jsx)(h.A,{md:4,children:(0,A.jsxs)(i.A.Group,{children:[(0,A.jsx)(i.A.Label,{children:"Color Code"}),(0,A.jsx)("div",{className:"d-flex gap-2 flex-wrap",children:g.map((e=>(0,A.jsx)("div",{title:e.name,onClick:()=>N("color",e.value),style:{backgroundColor:e.value,width:"24px",height:"24px",borderRadius:"50%",cursor:"pointer",border:y.color===e.value?"2px solid white":"none",boxShadow:y.color===e.value?"0 0 8px "+e.value:"none"}},e.value)))})]})})]}),(0,A.jsxs)(i.A.Group,{className:"mb-3",children:[(0,A.jsx)(i.A.Label,{children:"Professor"}),(0,A.jsx)(i.A.Control,{type:"text",placeholder:"Dr. Smith",value:y.professor,onChange:e=>N("professor",e.target.value),className:"bg-dark-glass text-white border-secondary border-opacity-25"})]}),(0,A.jsx)(u.A,{className:"g-3 mb-3",children:(0,A.jsx)(h.A,{md:12,children:(0,A.jsxs)(i.A.Group,{children:[(0,A.jsx)(i.A.Label,{children:"Days"}),(0,A.jsx)("div",{className:"d-flex gap-2 flex-wrap",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((e=>(0,A.jsx)("div",{onClick:()=>{const s=y.schedule.day?y.schedule.day.split(", "):[];let a;if(s.includes(e))a=s.filter((s=>s!==e));else{a=[...s,e];const r=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];a.sort(((e,s)=>r.indexOf(e)-r.indexOf(s)))}w("day",a.join(", "))},style:{cursor:"pointer",padding:"0.4rem 0.8rem",borderRadius:"50px",background:y.schedule.day&&y.schedule.day.includes(e)?"var(--primary)":"rgba(255,255,255,0.1)",color:y.schedule.day&&y.schedule.day.includes(e)?"white":"var(--text-muted)",border:"1px solid var(--glass-border)",fontSize:"0.9rem",transition:"all 0.2s"},children:e},e)))})]})})}),(0,A.jsxs)(u.A,{className:"g-3 mb-3",children:[(0,A.jsx)(h.A,{md:6,children:(0,A.jsxs)(i.A.Group,{children:[(0,A.jsx)(i.A.Label,{children:"Start Time"}),(0,A.jsx)(i.A.Control,{type:"time",value:y.schedule.startTime,onChange:e=>w("startTime",e.target.value),className:"bg-dark-glass text-white border-secondary border-opacity-25"})]})}),(0,A.jsx)(h.A,{md:6,children:(0,A.jsxs)(i.A.Group,{children:[(0,A.jsx)(i.A.Label,{children:"End Time"}),(0,A.jsx)(i.A.Control,{type:"time",value:y.schedule.endTime,onChange:e=>w("endTime",e.target.value),className:"bg-dark-glass text-white border-secondary border-opacity-25"})]})})]}),(0,A.jsxs)(u.A,{className:"g-3 mb-3",children:[(0,A.jsx)(h.A,{md:6,children:(0,A.jsxs)(i.A.Group,{children:[(0,A.jsx)(i.A.Label,{children:"Start Date"}),(0,A.jsx)("div",{className:"custom-datepicker-wrapper",children:(0,A.jsx)(x(),{selected:y.startDate,onChange:e=>N("startDate",e),className:"form-control bg-dark-glass text-white border-secondary border-opacity-25 w-100"})})]})}),(0,A.jsx)(h.A,{md:6,children:(0,A.jsxs)(i.A.Group,{children:[(0,A.jsx)(i.A.Label,{children:"End Date"}),(0,A.jsx)("div",{className:"custom-datepicker-wrapper",children:(0,A.jsx)(x(),{selected:y.endDate,onChange:e=>N("endDate",e),className:"form-control bg-dark-glass text-white border-secondary border-opacity-25 w-100"})})]})})]}),(0,A.jsxs)(i.A.Group,{className:"mb-4",children:[(0,A.jsx)(i.A.Label,{children:"Memo"}),(0,A.jsx)(i.A.Control,{as:"textarea",rows:3,placeholder:"Course description or notes...",value:y.memo,onChange:e=>N("memo",e.target.value),className:"bg-dark-glass text-white border-secondary border-opacity-25"})]}),(0,A.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,A.jsx)(o.A,{variant:"danger",onClick:async()=>{if(window.confirm("Are you sure you want to delete this course? All related assignments might be affected."))try{l.A.defaults.headers.common.Authorization="Bearer ".concat(b()),await l.A.delete("".concat(v,"/courses/").concat(t._id)),j(t._id),a(),p.oR.info("Course deleted.")}catch(e){console.error("Error deleting course:",e),p.oR.error("Failed to delete course.")}},className:"opacity-75 hover-opacity-100",children:"Delete Course"}),(0,A.jsxs)("div",{className:"d-flex gap-2",children:[(0,A.jsx)(o.A,{variant:"ghost",onClick:a,className:"text-muted",children:"Cancel"}),(0,A.jsx)(o.A,{variant:"primary",type:"submit",className:"px-4",children:"Save Changes"})]})]})]})})]})},y=()=>{const[e,s]=(0,r.useState)([]),[a,c]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[u,h]=(0,r.useState)(null),{getAuthToken:m}=(0,d.A)(),{user:x,userDetails:j}=(0,d.A)(d.O),g=JSON.parse(j);l.A.defaults.headers.common.Authorization="Bearer ".concat(m()),(0,r.useEffect)((()=>{y()}),[]);const y=async()=>{try{const e="http://localhost:5050",a=(await l.A.get("".concat(e,"/courses/student/").concat(g._id))).data;s(a)}catch(e){console.error("Error:",e)}};return(0,A.jsxs)("div",{className:"courses-container",children:[(0,A.jsx)(p.N9,{}),(0,A.jsx)("h1",{className:"page-header",children:"My Courses"}),(0,A.jsx)("div",{className:"action-bar",children:(0,A.jsx)(o.A,{variant:"primary",className:"add-course-btn",onClick:()=>c(!0),children:"+ Add New Course"})}),(0,A.jsx)("div",{className:"course-list",children:0===e.length?(0,A.jsxs)("div",{className:"empty-courses",children:[(0,A.jsx)("h3",{children:"No courses found."}),(0,A.jsx)("p",{children:"Add a course to get started tracking your grades!"})]}):e.map((e=>(0,A.jsx)(t.A,{className:"course-card",bsPrefix:"card",style:e.color?{borderLeft:"4px solid ".concat(e.color)}:{},children:(0,A.jsxs)(t.A.Body,{children:[(0,A.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)(t.A.Title,{children:e.name}),(0,A.jsx)("div",{className:"card-subtitle",children:e.professor?"Prof. ".concat(e.professor):"No Professor Listed"})]}),e.color&&(0,A.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:e.color,boxShadow:"0 0 10px ".concat(e.color)},title:"Course Color"})]}),(0,A.jsxs)("div",{className:"course-info-grid",children:[(0,A.jsxs)("div",{className:"course-info-item",children:[(0,A.jsx)("span",{className:"course-info-label",children:"Schedule"}),(0,A.jsx)("span",{className:"course-info-value",children:e.schedules&&e.schedules[0]?e.schedules[0].day:"Online/TBD"})]}),(0,A.jsxs)("div",{className:"course-info-item",children:[(0,A.jsx)("span",{className:"course-info-label",children:"Time"}),(0,A.jsx)("span",{className:"course-info-value",children:e.schedules&&e.schedules[0]?"".concat(e.schedules[0].startTime," - ").concat(e.schedules[0].endTime):"--:--"})]})]}),e.memo&&(0,A.jsxs)("div",{className:"course-memo",children:['"',e.memo,'"']}),(0,A.jsx)("div",{className:"course-actions",children:(0,A.jsx)(o.A,{variant:"link",className:"text-decoration-none p-0",onClick:()=>(e=>{h(e),i(!0)})(e),children:"Edit Course"})})]})},e._id)))}),(0,A.jsx)(b,{show:a,onHide:()=>c(!1),onAdd:e=>{s((s=>[...s,e]))}}),(0,A.jsx)(v,{show:n,onHide:()=>i(!1),course:u,onUpdate:e=>{s((s=>s.map((s=>s._id===e._id?e:s))))},onDelete:e=>{s((s=>s.filter((s=>s._id!==e))))}})]})}}}]);
//# sourceMappingURL=857.76e172dd.chunk.js.map