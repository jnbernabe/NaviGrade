"use strict";(self.webpackChunknavigrade=self.webpackChunknavigrade||[]).push([[785],{9841:(e,t,s)=>{s.d(t,{A:()=>f});var a=s(5043),n=s(3679),c=s(2078),o=s(1551),r=s(6215),l=s(7946),i=s(989),d=s(4282),u=(s(3656),s(579));s(4345);const h={"en-CA":s(8057)},p=(0,n.Hz)({format:c.Ay,parse:o.Ay,startOfWeek:r.A,getDay:l.A,locales:h}),m=e=>{const t=e.toLowerCase().slice(0,3);return["sun","mon","tue","wed","thu","fri","sat"].indexOf(t)},f=e=>{let{courses:t=[],assignments:s=[],height:o="700px"}=e;const[r,l]=(0,a.useState)(null),f=()=>{l(null)},g={};t.forEach((e=>{g[e._id]=e.color}));let A=t.flatMap((e=>{const t=[];return e.schedules?(e.schedules.forEach((s=>{const a=new Date(e.startDate),n=new Date(e.endDate);let c=a;const o=(s.day?s.day.split(",").map((e=>e.trim())):[]).map(m).filter((e=>-1!==e));for(;c<=n;){const a=new Date(c);if(a.setHours(0,0,0,0),o.includes(a.getDay())){const n=s.startTime.split(":").map((e=>parseInt(e,10))),c=s.endTime.split(":").map((e=>parseInt(e,10))),o=new Date(a);o.setHours(n[0],n[1]);const r=new Date(a);r.setHours(c[0],c[1]),t.push({id:"".concat(e._id,"_").concat(o.getTime()),title:e.name,start:o,end:r,type:"course",desc:"Class: ".concat(e.name," (").concat(e.professor,")"),color:e.color||"#8b5cf6"})}c.setDate(c.getDate()+1)}})),t):[]}));if(s&&s.length>0){const e=s.map((e=>{const t=new Date(e.dueDate);return{id:e._id,title:"DUE: ".concat(e.name),start:t,end:t,allDay:!0,type:"assignment",desc:"Assignment Due: ".concat(e.name),color:"#f59e0b"}}));A=[...A,...e]}return(0,u.jsxs)("div",{style:{height:o},className:"p-3",children:[(0,u.jsx)(n.Vv,{defaultView:"month",localizer:p,events:A,startAccessor:"start",endAccessor:"end",locales:h,onSelectEvent:e=>{l(e)},eventPropGetter:(e,t,s,a)=>{let n={border:"none",borderRadius:"4px",opacity:.9,color:"white",display:"block",backgroundColor:e.color,fontSize:"0.75rem",padding:"1px 4px",lineHeight:"1.2"};return"assignment"===e.type?(n.borderLeft="3px solid #b45309",n.fontWeight="600"):n.opacity=.85,{style:n}},popup:!0}),r&&(0,u.jsxs)(i.A,{show:!0,onHide:f,centered:!0,contentClassName:"glass-modal",children:[(0,u.jsx)(i.A.Header,{closeButton:!0,closeVariant:"white",children:(0,u.jsx)(i.A.Title,{children:r.title})}),(0,u.jsxs)(i.A.Body,{children:[(0,u.jsx)("p",{className:"fs-5",children:r.desc}),(0,u.jsx)("p",{className:"text-muted",children:r.allDay?(0,c.Ay)(r.start,"PPPP"):"".concat((0,c.Ay)(r.start,"PPPP p")," - ").concat((0,c.Ay)(r.end,"p"))})]}),(0,u.jsx)(i.A.Footer,{children:(0,u.jsx)(d.A,{variant:"primary",onClick:f,children:"Close"})})]})]})}},9455:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(5043),n=s(9841),c=s(7020),o=s(2766),r=s(579);const l=()=>{const[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)([]),{getAuthToken:i}=(0,o.A)(),{user:d,userDetails:u}=(0,o.A)(o.O);c.A.defaults.headers.common.Authorization="Bearer ".concat(i());const h=JSON.parse(u);(0,a.useEffect)((()=>{p(),m()}),[]);const p=async()=>{try{const e="http://localhost:5050",s=(await c.A.get("".concat(e,"/courses/student/").concat(h._id))).data;t(s)}catch(e){console.error("Error fetching courses:",e)}},m=async()=>{try{const e="http://localhost:5050",t=(await c.A.get("".concat(e,"/assignments/student/").concat(h._id))).data;l(t)}catch(e){console.error("Error fetching assignments:",e)}};return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"Course Calendar"}),(0,r.jsx)(n.A,{courses:e,assignments:s})]})}},4345:(e,t,s)=>{s.r(t),s.d(t,{default:()=>a});const a={}}}]);
//# sourceMappingURL=785.2a94eccb.chunk.js.map